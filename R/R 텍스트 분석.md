# 1. 텍스트 분석

## 1) 텍스트 마이닝 개요

**텍스트 마이닝(Text mining)**은 단어의 출현 빈도, 단어 간 관계성 등을 파악하여 유의미한 정보를 추출하는 것이다. 이는 **자연어 처리 기술**을 기반으로 하고 있다.

텍스트 마이닝은 **데이터 마이닝**의 일부로 데이터 마이닝이 **수치데이터와 범주형데이터**에 집중하는 반면, 텍스트 마이닝은 **텍스트 데이터**를 중점적으로 다룬다.

텍스트마이닝을 위해서는 **형태소분석기나 구문분석기**와 같은 **자연어처리 도구**를 잘 사용할 수 있어야 하며 그 외에 다루는 언어에 대해서도 잘 알고 있어야 한다.

소셜 미디어는 **시장 및 고객 정보**를 파악하는데 있어서 점차 그 중요성이 높아지고 있으며 텍스트 마이닝은 많은 양의 비정형 데이터를 분석함으로써 **해당 브랜드나 제품에 대한 다양한 의견과 감성반응**을 살펴볼 수 있다.

텍스트 마이닝을 통해 문서들을 **자동으로 분류**할 수 있고, **문서나 단어들간의 연관성**을 분석할 수 있으며 **텍스트에 담겨있는 감성(즉, 평가, 성향)을 예측**할 수 있고 시간의 흐름에 따른 **이슈들의 변환과정**을 추적할 수 있다.



| 연관성 분석 | 트렌드 분석 | 감성 분석 |
| ----------- | ----------- | --------- |
|             |             |           |







## 2) 자연어 처리

`koNLP`를 사용하는 것이 거의 정형화되어있다.

**자연어 처리 기술**을 바탕으로 사람들이 **작성한 텍스트를 컴퓨터가 분석하여 중요한 단어나 문장들을 추출**할 수 있다. 이를 잘 활용하면 매력적인 뉴스 기사의 헤드라인 작성, 제품에 대한 고객 반응 분석, 우리 브랜드에 대한 고객 생각 등을 알아낼 수 있다.

한국어는 어순이나 조사 등을 영어처럼 명확하게 끊어지지 않는 부분이 있다. 

‘한국어’라는 단어를 분석해 보면 ‘한국어는’, ‘한국어의’, ‘한국어를’ 등의 표현들은 모두 ‘한국어’라는 핵심 단어를 가지고 있다. 하지만 기계적으로 이 표현들을 **각각 다르게 인식할 수도 있으므로 한국어로 된 텍스트를 쪼개는 과정이 영어보다 더 많이 필요하다.** 현재 나와 있는 기술만으로도 텍스트 마이닝을 통하여 충분히 유의미한 인사이트를 도출해낼 수 있다.



자연어 처리는 인간이 사용하는 언어를 컴퓨터가 사용할 수 있게 처리하는 것을 말한다. 애플의 시리(Siri)와 같은 음성인식이나 광학문자판독을 통해서 책에서 글자를 읽어 들이거나 웹 페이지에서 사람이 작성한 글을 로봇을 이용해서 크롤링 하고 해석한 후 어떤 것이 핵심어이고 어떤 것이 주제어인가 등을 알아내기도 하며 글쓴이의 감정이나 상태 등을 알아내기도 한다.



자언어 처리는 형태소분석기, 구문분석기와 같은 사람이 작성한 글이나 대화를 컴퓨터를 통해 해석할 수 있게 하는 소프트웨어를 개발하거나 연구하고 그런 것들을 이용해서 실제로 작업하는 것을 말한다.



- 형태소분석기

형태소를 구분하고 무엇인지 알려주는 것이다.

- 구문분석기

주어, 목적어, 서술어와 같은 형태로 품사보다는 단위가 더 높은 논리적 레벨까지를 처리해주는 것이다. 형태소 분석으로 어절들의 품사를 파악한 후 명사,동사, 형용사 등 의미를 지닌 품사의 단어를 추출해 각 단어가 얼마나 많이 등장했는지 확인한다.



`extractNoun(분석할 문장, 변수)`



리스트로 품사를 리턴하는 extractNoun

sapply("여러 원소를 가진 벡터",extractNoun,USE.NAMES=F)  : 결과를 추출할 때 값이 대한민국: 대한민국으로 나오는 것을 막기 위해서 - 심플한 데이터 셋으로 리턴한다. 



Filter 함수 : 두번째 아규먼트인 데이터셋에 대하여, 첫번째 데이터셋을 가져와 .전달하여 리턴값이 true인 것만 추출함. (함수, 데이터셋) -> sapply 와 비슷하지만 아규먼트의 숫자가 다르다. 



sejongDic

NIADic

S: 기호

F: 외국어

N: 체언(명사, 대명사, 수사)

P: 용언(동사, 형용사)

M: 수식언(관형사, 부사)

I: 독립언(감탄사)

J: 관계언(조사)

E: 어미

X: 접사









## 3) 텍스트 전처리와 tm패키지

 **[** **정규** **표현식** **활용** **]**

stringr 패키지.. 에서 pattern 이라고 되어 있는 부분들은 정규 표현식을 사용할 수 있다.





 **word <- "JAVA** **javascript** **가나다** **12.3 %^&\*"**

 gsub("A", "", word) 

 gsub("a", "", word) 

 gsub("[Aa]", "", word) 

 gsub("[가-힣]", "", word) 

 gsub("[^가-힣]", "", word) 

 gsub("[&^%*]", "", word) 

 gsub("[[:punct:]]", "", word) 

 gsub("[[:alnum:]]", "", word) 

 gsub("[12.34567890]", "", word) 

 gsub("[[:digit:]]", "", word) 

 gsub("[^[:alnum:]]", "", word) 

 gsub("[[:space:]]", "", word) 

 gsub("[[:space:][:punct:]]", "", word)



**[** **stringr** **패키지 활용** **]**

 

install.packages("stringr")

library(stringr)



**[ tm** **패키지를 이용한 텍스트 전처리** **:** **tm_map****()** **함수 사용** **]**

텍스트는 기본적으로 비정형 데이터로서 분석에 불필요한 때로는 분석에 방해가 되는 요소들이 포함되어 있어서 데이터 정제(data cleaning) 작업은 필수이다. tm 패키지에는 텍스트 데이터의 정제작업을 지원하는 다양한 변환함수를 제공한다. getTransformations()이라는 함수를 수행시키면 사용 가능한 변환함수의 리스트를 확인할 수 있으며 이 함수들은 tm_map() 함수에 인수로 전달하여 변환작업을 처리할 수 있다. 문서에서 문장 부호를 제거하거나, 문자를 모두 소문자로 바꾸거나, 단어의 어간을 추출해주는 스테밍(stemming)을 적용할 수 있다.

 **tm_map****(**

  **x,  #** **코퍼스**

  **FUN #** **변환에 사용할 함수**

 **)**            

​            corp2. <- tm_map(corp1,stripWhitespace) # 여러 개의 공백을 하나의 공백으로 변환한다.

​     corp2. <- tm_map(corp2.,removeNumbers) # 숫자를 제거한다.

​            corp2. <- tm_map(myCorpus, content_transformer(tolower)) # 영문 대문자를 소문자로 변환한다.

​            corp2. <- tm_map(corp2.,removePunctuation) # 마침표,콤마,세미콜론,콜론 등 문자 제거한다.

​            corp2. <- tm_map(corp2.,PlainTextDocument)

​            stopword2. <- c(stopwords('en'),"and","but") # 기본 불용어 외에 불용어로 쓸 단어 추가

​            corp2. <- tm_map(corp2.,removeWords,stopword2.) # 불용어 제거하기 (전치사 , 관사 등)                   



**코퍼스란**

코퍼스(corpus; 말뭉치): 언어학에서 구조를 이루고 있는 텍스트 집합으로 통계 분석 및 가설 검증, 언어 규칙의 검사 등에 사용된다. 텍스트 마이닝 패키지인 tm에서 문서를 관리하는 기본구조를 Corpus라 부르며, 이는 텍스트 문서들의 집합을 의미한다.



텍스트 마이닝을 위해 수행해야 할 첫 번째 작업은 비 구조화된 텍스트 즉, **비정형의 텍스트를 구조화된 데이터로 변환하는 것**이다. 텍스트를 구조화하는 방법 가운데 하나로 코퍼스(단어주머니:bag-of-words)접근법이 일반적으로 많이 사용된다. 



코퍼스 접근법은 **분석 대상이 되는 개별 텍스트 즉 문서****(document)****를 단어의 집합****(****주머니****)****으로 단순화시킨 표현 방법으로서 단어의 순서나 문법은 무시하고 단어의 출현 빈도만을 이용하여 텍스트를 매트릭스로 표현**한다. 이 때 생성되는 매트릭스를 term-document-matrix(TDM)또는 document-term-matrix(DTM) 라고 한다.



분석해야 할 텍스트를 문서들의 집합인 코퍼스 형식으로 변환해야 한다. tm 패키지의 Corpus() 함수를 사용한다. 이 함수는 다양한 소스로부터 읽어 들인 텍스트를 텍스트 마이닝을 위한 Corpus 객체로 변환한다. getSources() 함수를 사용하면 사용 가능한 소스객체의 종류를 파악할 수 있다.





## 4) 문서간 유사도 분석

문서들간에 동일한 단어 또는 비슷한 단어가 얼마나 공통으로 많이 사용 되었나에 따라서 문서간 유사도 분석을 할 수 있다.



(1)문서의 각 단어들을 수치화 하여 표현한다. – DTM

(2)문서간 단어들의 차이를 계산한다 – 코사인 유사도, 유클리드 거리

●

코사인 유사도(Cosine Similarity)

두 벡터 간의 코사인 각도를 이용하여 유사도를 측정한다. 

두 벡터의 값이 완전 동일하면 1, 반대 방향이면 -1, 90도의 각을 이루면 0 이된다. 1에 가까울수록 유사도가 높다.











유클리드 거리(Euclidean distance)

두 점 사이의 유클리드 거리 공식은 피타고라스의 정리를 통해 두 점 사이의 거리를 구하는 것과 동일하다.



​    

## 5) 결과 시각화





OTT 서비스

Build a multimodal corpus of pre-match interviews and press conferences of football matches • Perform automated content analysis to study correlation of language features with performance and predict match outcomes



Steps: 1. Identify data sources and collect data (pre-match interviews and game results) 2. Explorative data analysis (e.g., term-level correlations) 3. Train and evaluate predictive NLP models models (traditional and SOTA) 4. Platform (web app) for real-time acquisition of interviews and outcome prediction





본 연구는 소셜빅데이터 분석 방법을 활용하여 스포츠산업 관련 지원 사업에 대한 인식과 수요를 분석하는데, 그 목적이 있다. 이러한 연구목적을 달성하기 위해 ㈜더아이엠씨가 개발한 빅데이터 일괄처리 솔루션 ‘TextoM’을 활용하여 2015년 7월 1일부터 2016년 6월 30일까지 최근 1년간의 스포츠산업 글로벌화 지원 등을 포함한 10개의 스포츠산업 관련정책에 대한 소셜빅데이터를 인터넷 포털사이트(Naver)에서 수집하였다. 빅데이터의 수집대상 채널은 포털사이트인 네이버(Naver)의 뉴스, 블로그, 카페, 지식인과 웹을 포함하였고, 선정된 10개 정책(지원 사업)에 대한 VOC를 최대한 중복 및 누락 없이 수집하기 위해 정책 명칭 및 정책 관련 주요 단어들을 주요 키워드에 포함하여 총 991,387건의 데이터를 수집하였다. 본 연구에서는 빅데이터 분석방법 중 텍스트마이닝, 감성분석, 의미연결망 분석을 이용하여 수집된 데이터를 기반으로 스포츠산업 지원 사업과 관련하여 동반출현 빈도가 높은 단어, 스포츠산업 지원 사업에 대한 긍·부정의 이미지, 동반 출현한 주요 키워드들 간의 관련성 등을 살펴보았다. 이러한 분석 결과를 바탕으로 스포츠산업 지원 사업의 수요자들에 대한 인식 및 수요를 파악할 수 있었으며, 이에 대한 인사이트 및 정책 제언이 제시되었다.





최근 들어 VR 산업의 성장을 위한 양질의 VR 콘텐츠에 대한 필요성이 꾸준히 제기되고 있다. 이에 본 연구는 VR 콘텐츠 중에서 가장 큰 주목을 받고 있는 VR 게임의 사용자의 관심요소에 대해 연구하였다. 연구 수행을 위해 스팀(STEAM)의 사용자 리뷰 데이터를 활용하였고 리뷰 데이터에 텍스트마이닝과 네트워크 분석을 적용한 결과 VR 게임 사용자의 관심요소는 "현존감", "1인칭 시점 게임", "청각적 요소", "상호작용" 으로 확인되었다. 본 연구는 양질의 VR 게임 개발을 위한 사용자 관점의 연구를 수행하고 사용자 관점의 연구를 리뷰을 통해 시도한 초기 연구라는 것에 대해 그 의의가 있다.









